{"version":3,"sources":["webpack:///webpack/bootstrap c46185a8be8eec03ca7f?4c88*","webpack:///./javascript/User/Status.jsx"],"names":["Status","React","createClass","getInitialState","student","currentGame","id","lottery","spot","loadData","$","getJSON","command","done","data","game_id","lotteryId","setState","bind","componentDidMount","render","content","state","banned","first_name","last_name","Banned","getDefaultProps","props","banned_date","banned_reason","Game","game","length","university","mascot","kickoff_format","GameStatus","submitLottery","lot_id","val","post","timestamp","Math","floor","Date","now","undefined","lottery_run","winner","confirmed","spot_id","picked_up","pickup_deadline","title","number","pickup_deadline_format","signup_end","signup_start","signup_end_format","signup_start_format","ConfirmSpot","availableSpots","message","waiting","loadAvailableSpots","confirmSpot","spotId","refs","spotChoice","value","success","sober","options","map","i","lot_title","LotterySubmit","marginTop","handleClick","Waiting","ReactDOM","document","getElementById"],"mappings":"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","file":"status.dev.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c46185a8be8eec03ca7f\n **/","var Status = React.createClass({\n    getInitialState: function() {\n        return {\n            student : {},\n            currentGame : {id : 0},\n            lottery : null,\n            spot : {}\n        };\n    },\n\n    loadData : function() {\n        var student;\n        var currentGame;\n        var lottery;\n        var spot;\n\n        $.getJSON('tailgate/User/Student', {\n            command: 'get'\n        }).done(function(data) {\n            student = data;\n            $.getJSON('tailgate/User/Game', {\n                command: 'getCurrent'\n            }).done(function(data) {\n                currentGame = data;\n                if (currentGame) {\n                    // get the student's lottery submission for the current game\n                    $.getJSON('tailgate/User/Lottery', {\n                        command: 'get',\n                        game_id: data.id\n                    }).done(function(data) {\n                        lottery = data;\n                        if (lottery) {\n                            $.getJSON('tailgate/User/Lottery', {\n                                command : 'getSpotInfo',\n                                lotteryId : lottery.id\n                            }).done(function(data){\n                                spot = data;\n                                this.setState({\n                                    student: student,\n                                    currentGame: currentGame,\n                                    lottery: lottery,\n                                    spot : spot\n                                });\n                            }.bind(this));\n                        } else {\n                            this.setState({\n                                student: student,\n                                currentGame: currentGame,\n                                lottery: lottery\n                            });\n                        }\n                    }.bind(this));\n                } else {\n                    this.setState({\n                        currentGame : null,\n                        student: student\n                    });\n                }\n            }.bind(this));\n        }.bind(this));\n    },\n\n    componentDidMount: function() {\n        this.loadData();\n    },\n\n    render : function() {\n        var content;\n        if (this.state.student.banned == 1) {\n            return <Banned student={this.state.student}/>;\n        }\n        if (this.state.currentGame === null) {\n            content = <h4>No games scheduled. Try back later.</h4>;\n        } else {\n            content = (<Game game={this.state.currentGame} lottery={this.state.lottery}\n                 spot={this.state.spot} loadData={this.loadData}/>);\n        }\n        return (\n            <div>\n                <h2>Welcome {this.state.student.first_name} {this.state.student.last_name}</h2>\n                {content}\n            </div>\n        );\n    }\n});\n\nvar Banned = React.createClass({\n\n    getDefaultProps : function() {\n        return {\n            student : {}\n        };\n    },\n\n    render: function() {\n        return (\n            <div>\n                <h2>Sorry</h2>\n                <p>You were banned from using this site on {this.props.student.banned_date}.</p>\n                <h3>Reason for ban</h3>\n                <p className=\"well\">{this.props.student.banned_reason}</p>\n                <p>Contact the administrators of this site if you have questions.</p>\n            </div>\n        );\n    }\n\n});\n\nvar Game = React.createClass({\n    getDefaultProps: function() {\n        return {\n            game : {},\n            lottery : {},\n            spot : {}\n        };\n    },\n\n\n    render : function() {\n        return (\n            <div>\n                {this.props.game.length > 0 ? (\n                    <h3>\n                        {this.props.game.university} {this.props.game.mascot} - {this.props.game.kickoff_format}\n                    </h3>) : null}\n                <GameStatus game={this.props.game} lottery={this.props.lottery}\n                    spot={this.props.spot} loadData={this.props.loadData}/>\n            </div>\n        );\n    }\n});\n\nvar GameStatus = React.createClass({\n    submitLottery : function() {\n        var lot_id = $('#lotSelect').val();\n        $.post('tailgate/User/Lottery', {\n            command : 'apply',\n            game_id : this.props.game.id\n        }).done(function(data){\n            this.props.loadData();\n        }.bind(this));\n    },\n\n    render : function() {\n        var content = null;\n        var timestamp = Math.floor(Date.now() / 1000);\n        if (this.props.game.id === undefined) {\n            content = <div className=\"alert alert-info\">The next lottery has not been created yet. Check back later.</div>;\n        } else if(this.props.game.id === 0) {\n            content = null;\n        } else {\n            if (this.props.game.lottery_run === '1') {\n                // lottery has been run\n                if (this.props.lottery) {\n                    // check if student submitted a lottery\n                    if (this.props.lottery.winner === '1') {\n                        // see if current student is a winner\n                        if (this.props.lottery.confirmed === '1') {\n                            // current student has confirmed their spot via email\n                            if (this.props.lottery.spot_id !== '0') {\n                                if (this.props.lottery.picked_up === '1') {\n                                    content = <div className=\"alert alert-info\">Your tailgate tag has been picked up. Enjoy the game!</div>;\n                                } else if(this.props.game.pickup_deadline < timestamp) {\n                                    content = <div className=\"alert alert-info\">Sorry, you failed to pick up your tailgating pass in time. It has been forfeited.</div>;\n                                } else {\n                                    content = <div className=\"alert alert-info\">You have chosen lot <strong>{this.props.spot.title}</strong>, spot number <strong>{this.props.spot.number}</strong>. Make sure to go pick up your tag before the {this.props.game.pickup_deadline_format} deadline.<br />See the <a href=\"./\">home page</a> for more details.</div>;\n                                }\n                            } else {\n                                if (this.props.game.pickup_deadline < timestamp) {\n                                    content = <div className=\"alert alert-info\">Sorry, you failed to confirm your tailgating win. Your spot has been forfeited.</div>;\n                                } else {\n                                    content = <div><ConfirmSpot lottery={this.props.lottery} loadData={this.props.loadData}/></div>;\n                                }\n                            }\n                        } else {\n                            // current student has not confirmed their spot\n                            content = <div className=\"alert alert-success\"><strong>Congratulations,</strong> you won a lottery spot! Check your email to confirm your win.</div>;\n                        }\n                    } else {\n                        // student submitted but did not win\n                        content = <div className=\"alert alert-info\">Sorry, you did not win a spot this time. Try again next game.</div>;\n                    }\n                } else {\n                    // student did not submit a ticket for current lottery\n                    content = <div className=\"alert alert-danger\">The lottery is complete and the winners have been contacted. Please, try again next game.</div>;\n                }\n            } else {\n                // lottery has not been run yet\n                if (timestamp >= this.props.game.signup_end) {\n                    // signup time is over\n                    if (this.props.lottery) {\n                        // the student submitted a ticket\n                        content = <div className=\"alert alert-info\">Your application has been submitted. Watch your email and check back later for lottery results.</div>;\n                    } else {\n                        // the student didn't submit a ticket.\n                        content = <div className=\"alert alert-info\">Sorry, you missed the lottery sign up deadline. Try again next game.</div>;\n                    }\n                } else if (this.props.game.signup_start <= timestamp) {\n                    // the sign up start has passed.\n                    if (this.props.lottery) {\n                        // the student submitted a ticket.\n                        content = <div className=\"alert alert-info\">Your application has been submitted. Check your email after {this.props.game.signup_end_format} for lottery results.</div>;\n                    } else {\n                        // the student hasn't submitted a ticket, show them the form\n                        content = <LotterySubmit game={this.props.game} handleClick={this.submitLottery}/>;\n                    }\n                } else {\n                    // the lottery signup has not yet begun\n                    content = <div className=\"alert alert-success\">Tailgate lottery for this game begins at <strong>{this.props.game.signup_start_format}</strong>. See you then!</div>;\n                }\n            }\n        }\n        return content;\n    }\n});\n\n\n\nvar ConfirmSpot = React.createClass({\n    getInitialState: function() {\n        return {\n            availableSpots: [],\n            message : null,\n            waiting : 0\n        };\n    },\n\n    getDefaultProps: function() {\n        return {\n            lottery : {}\n        };\n    },\n\n    componentDidMount: function() {\n        this.loadAvailableSpots();\n    },\n\n    loadAvailableSpots : function() {\n        $.getJSON('tailgate/User/Lottery', {\n            command : 'spotChoice'\n        }).done(function(data){\n            this.setState({\n                availableSpots : data\n            });\n        }.bind(this));\n    },\n\n    confirmSpot : function() {\n        var spotId = this.refs.spotChoice.value;\n        var lotteryId = this.props.lottery.id;\n        this.setState({\n            waiting : 1\n        });\n        $.post('tailgate/User/Lottery', {\n            command : 'pickSpot',\n            spotId : spotId,\n            lotteryId : lotteryId\n        },null, 'json').done(function(data){\n            if (data.success) {\n                this.props.loadData();\n            } else {\n                this.setState({\n                    waiting : 0\n                });\n                this.setState({\n                    message : <div className=\"alert alert-danger\">Your requested spot was chosen by someone else. Pick again.</div>\n                });\n                this.loadAvailableSpots();\n            }\n        }.bind(this));\n    },\n\n    render : function() {\n        var sober;\n        if (this.state.waiting === 1) {\n            return <Waiting />;\n        }\n        if (this.state.availableSpots.length > 0) {\n            var options = this.state.availableSpots.map(function(val, i){\n                if (val.sober === '1') {\n                    sober = '(Non-alcoholic)';\n                } else {\n                    sober = '';\n                }\n                return (<option key={i} value={val.id}>{val.lot_title + ', #' + val.number + ' ' + sober}</option>);\n            });\n            return (\n                <div className=\"row\">\n                    <div className=\"col-sm-12\">\n                        <p>You have confirmed your winning ticket. Pick the spot you wish to tailgate in below. Choose quickly, other winners may be picking spots while you decide.</p>\n                        {this.state.message}\n                    </div>\n                    <div className=\"col-sm-4\">\n                        <select ref=\"spotChoice\" className=\"form-control\">\n                            {options}\n                        </select>\n                    </div>\n                    <div className=\"col-sm-4\">\n                        <button className=\"btn btn-primary\" onClick={this.confirmSpot}>Choose tailgating spot</button>\n                    </div>\n                </div>\n            );\n        } else {\n            return (\n                <div>\n                    <p>We have run out of spots. Contact the site administrator.</p>\n                </div>\n            );\n        }\n    }\n});\n\nvar LotterySubmit = React.createClass({\n    render : function() {\n        var game = this.props.game;\n        return (\n            <div>\n                <p>Lottery submission deadline: {game.signup_end_format}</p>\n                <p style={{marginTop : '1em'}}>\n                    <button className=\"btn btn-primary btn-lg\" onClick={this.props.handleClick}><i className=\"fa fa-check-square\"></i> Submit my name to the tailgate lottery</button>\n                </p>\n                <p><small><em>Lottery winners will choose their spot on a first come, first serve basis.</em></small></p>\n            </div>\n        );\n    }\n});\n\nvar Waiting = React.createClass({\n    render : function() {\n        return (\n            <div className=\"alert alert-success\"><i className=\"fa fa-cog fa-spin fa-lg\"></i> Please wait...</div>\n        );\n    }\n});\n\n// This script will not run after compiled UNLESS the below is wrapped in $(window).load(function(){...});\nReactDOM.render(<Status/>, document.getElementById('studentStatus'));\n\n\n\n/** WEBPACK FOOTER **\n ** ./javascript/User/Status.jsx\n **/"],"sourceRoot":""}